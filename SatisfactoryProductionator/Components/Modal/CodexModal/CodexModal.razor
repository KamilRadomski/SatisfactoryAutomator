@using SatisfactoryProductionator.DataModels.Models.Modal;
@using SatisfactoryProductionator.DataModels.Models.Codex;
@using SatisfactoryProductionator.Services.States;

@inject CodexModalState CodexModalState;

@implements IDisposable;

<CascadingValue Value=@selectedEntry Name="SelectedEntry">
    <ModalInfo />
    <ModalPages />
    <ModalExtraInfo />
    <ModalOptions />
</CascadingValue>

@code {
    public ModalEntry selectedEntry => CodexModalState.GetSelectedEntry();

    protected override void OnInitialized()
    {
        base.OnInitialized();

        CodexModalState.OnStateChange += StateHasChanged;
    }

    public void Dispose()
    {
        CodexModalState.OnStateChange -= StateHasChanged;
    }
}
